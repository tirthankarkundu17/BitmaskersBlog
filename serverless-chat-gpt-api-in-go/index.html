<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Serverless Chat GPT API in Go</title>
    <link rel="stylesheet" href="/assets/built/screen.css?v=ee37fcaf73">

    <link rel="icon" href="https://bitmaskers.in/content/images/size/w256h256/2023/10/logo-bitmaskers.png" type="image/png">
    <link rel="canonical" href="https://bitmaskers.in/serverless-chat-gpt-api-in-go/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="https://bitmaskers.in/serverless-chat-gpt-api-in-go/amp/">
    
    <meta property="og:site_name" content="The Bitmaskers">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Serverless Chat GPT API in Go">
    <meta property="og:description" content="This blog shares how to create your own serverless ChatGPT API in Go.

What is Chat GPT ?

A natural language processing (NLP) model called GPT-3, also known as the &quot;Generative Pre-training Transformer 3,&quot; was developed using text that humans produced. It can create its own human-like text using a range">
    <meta property="og:url" content="https://bitmaskers.in/serverless-chat-gpt-api-in-go/">
    <meta property="og:image" content="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000">
    <meta property="article:published_time" content="2023-01-13T21:45:12.000Z">
    <meta property="article:modified_time" content="2023-10-02T04:47:04.000Z">
    <meta property="article:tag" content="go">
    <meta property="article:tag" content="serverless">
    <meta property="article:tag" content="api">
    
    <meta property="article:publisher" content="https://www.facebook.com/bitmaskers">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Serverless Chat GPT API in Go">
    <meta name="twitter:description" content="This blog shares how to create your own serverless ChatGPT API in Go.

What is Chat GPT ?

A natural language processing (NLP) model called GPT-3, also known as the &quot;Generative Pre-training Transformer 3,&quot; was developed using text that humans produced. It can create its own human-like text using a range">
    <meta name="twitter:url" content="https://bitmaskers.in/serverless-chat-gpt-api-in-go/">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Tirthankar Kundu">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="go, serverless, api">
    <meta property="og:image:width" content="2000">
    <meta property="og:image:height" content="1333">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "The Bitmaskers",
        "url": "https://bitmaskers.in/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://bitmaskers.in/content/images/2023/10/b_logo.png"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Tirthankar Kundu",
        "url": "https://bitmaskers.in/author/tirthankar/",
        "sameAs": []
    },
    "headline": "Serverless Chat GPT API in Go",
    "url": "https://bitmaskers.in/serverless-chat-gpt-api-in-go/",
    "datePublished": "2023-01-13T21:45:12.000Z",
    "dateModified": "2023-10-02T04:47:04.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&ixlib=rb-4.0.3&q=80&w=2000",
        "width": 2000,
        "height": 1333
    },
    "keywords": "go, serverless, api",
    "description": "This blog shares how to create your own serverless ChatGPT API in Go.\n\nWhat is Chat GPT ?\n\nA natural language processing (NLP) model called GPT-3, also known as the &quot;Generative Pre-training Transformer 3,&quot; was developed using text that humans produced. It can create its own human-like text using a range of languages and writing styles given some text input.\n\nMore details on Chat GPT and the excellent work can be found here.\n\nWhat is Go?\n\nGo, also referred to as Golang, is an open-source, statica",
    "mainEntityOfPage": "https://bitmaskers.in/serverless-chat-gpt-api-in-go/"
}
    </script>

    <meta name="generator" content="Ghost 5.66">
    <link rel="alternate" type="application/rss+xml" title="The Bitmaskers" href="https://bitmaskers.in/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="b9caab9ce32eedb73920df5550" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://bitmaskers.in/" crossorigin="anonymous"></script>
    
    <link href="https://bitmaskers.in/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=ee37fcaf73"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=ee37fcaf73">
    <script data-ad-client="ca-pub-7990894864273181" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6DFHKPW99Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6DFHKPW99Q');
</script>

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script>
    function updateCoverImage(){
        console.log('Updating');
        let images = document.querySelectorAll("body > div.site > div.site-content > div > main > div > article > div.post-media.container.large > div > a > img");
        for(let image of images){
            if(!image.srcset.includes("images.unsplash.com"))
                image.srcset = ''
        }

        let image = document.querySelector("body > div.site > div > div > main > article > div.post-media.container.large > div > a > img");
        if(image != null && !image.srcset.includes("images.unsplash.com"))
                image.srcset = ''
	}
    addEventListener('load', updateCoverImage, false);

</script><style>:root {--ghost-accent-color: #15171A;}</style>
</head>

<body class="post-template tag-go tag-serverless tag-api is-head-left-logo">
<div class="site">

    <header id="gh-head" class="gh-head gh-outer">
        <div class="gh-head-inner">
            <div class="gh-head-brand">
                <div class="gh-head-brand-wrapper">
                    <a class="gh-head-logo" href="https://bitmaskers.in">
                            <img src="https://bitmaskers.in/content/images/2023/10/b_logo.png" alt="The Bitmaskers">
                    </a>
                </div>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-home"><a href="https://bitmaskers.in/">Home</a></li>
    <li class="nav-aws"><a href="https://bitmaskers.in/tag/aws/">AWS</a></li>
    <li class="nav-mule"><a href="https://bitmaskers.in/tag/mulesoft/">Mule</a></li>
    <li class="nav-algo"><a href="https://bitmaskers.in/tag/algorithm/">Algo</a></li>
    <li class="nav-author"><a href="https://bitmaskers.in/author/tirthankar/">Author</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
            </div>
        </div>
    </header>


    <div class="site-content">
        
<div class="content-area">
<main class="site-main">


    <article class="post tag-go tag-serverless tag-api single-post">

        <header class="article-header gh-canvas">
            <div class="post-meta">
                <span class="post-meta-item post-meta-date">
                    <time datetime="2023-01-13">Jan 13, 2023</time>
                </span>
                    <span class="post-meta-item post-meta-length">2 min read</span>
                    <span class="post-meta-item post-meta-tags"><a class="post-tag post-tag-go" href="/tag/go/" title="go">go</a></span>
            </div>
            <h1 class="post-title">Serverless Chat GPT API in Go</h1>
                <figure class="post-media kg-width-wide">
        <img
            class="post-image"
            srcset="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;400 400w,
                    https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;750 750w,
                    https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w,
                    https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1140 1140w,
                    https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1920 1920w"
            sizes="(min-width: 960px) 960px, 92vw"
            src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDM1fHxDaGF0fGVufDB8fHx8MTY3MzY0NjI2Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960"
            alt="Serverless Chat GPT API in Go"
            loading="lazy"
        >

    </figure>
        </header>

        <div class="gh-content gh-canvas">
            <p>This blog shares how to create your own serverless ChatGPT API in Go.</p><blockquote>What is Chat GPT ?</blockquote><p>A natural language processing (NLP) model called GPT-3, also known as the "Generative Pre-training Transformer 3," was developed using text that humans produced. It can create its own human-like text using a range of languages and writing styles given some text input.</p><p>More details on Chat GPT and the excellent work can be found <a href="https://openai.com/blog/chatgpt/?ref=localhost">here</a>.</p><blockquote>What is Go?</blockquote><p>Go, also referred to as Golang, is an open-source, statically typed, compiled computer language created by Google. It is designed to be straightforward, powerful, readable, and effective.</p><blockquote>Prerequisites</blockquote><p>The following prerequisites are needed -</p><ul><li>OpenAI Account - can be created <a href="https://openai.com/api/?ref=localhost">here</a></li><li>SAM CLI Installed - can be found <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-sam-cli.html?ref=localhost">here</a></li><li>AWS Account(if you plan on deploying it to AWS)</li></ul><blockquote>Create Serverless API</blockquote><ul><li>Run sam init</li><li>Select AWS Quick Start Templates below</li></ul><figure class="kg-card kg-image-card"><img src="https://bitmaskers.in/content/images/2023/10/sam-init.png" class="kg-image" alt loading="lazy" width="1242" height="1783" srcset="https://bitmaskers.in/content/images/size/w600/2023/10/sam-init.png 600w, https://bitmaskers.in/content/images/size/w1000/2023/10/sam-init.png 1000w, https://bitmaskers.in/content/images/2023/10/sam-init.png 1242w" sizes="(min-width: 720px) 720px"></figure><ul><li>Edit the structure to create a folder called pkg and add a main.go</li><li>Create the functionality to call the Chat GPT API and return the response</li><li>Create a struct TextCompletionRequest like the below which matches the format, Chat GPT API accepts</li></ul><!--kg-card-begin: markdown--><pre><code>type TextCompletionRequest struct {
	Model            string  `json:&quot;model&quot;`
	Prompt           string  `json:&quot;prompt&quot;`
	Temperature      float64 `json:&quot;temperature&quot;`
	MaxTokens        int     `json:&quot;max_tokens&quot;`
	TopP             float64 `json:&quot;top_p&quot;`
	FrequencyPenalty float64 `json:&quot;frequency_penalty&quot;`
	PresencePenalty  float64 `json:&quot;presence_penalty&quot;`
}
</code></pre>
<!--kg-card-end: markdown--><ul><li>Create a struct TextCompletionResponse like the below which matches the format, Chat GPT API accepts</li></ul><!--kg-card-begin: markdown--><pre><code>type Choice struct {
	Text         string      `json:&quot;text&quot;`
	Index        int         `json:&quot;index&quot;`
	Logprobs     interface{} `json:&quot;logprobs&quot;`
	FinishReason string      `json:&quot;finish_reason&quot;`
}

type TextCompletionResponse struct {
	ID      string   `json:&quot;id&quot;`
	Object  string   `json:&quot;object&quot;`
	Created int      `json:&quot;created&quot;`
	Model   string   `json:&quot;model&quot;`
	Choices []Choice `json:&quot;choices&quot;`
	Usage   struct {
		PromptTokens     int `json:&quot;prompt_tokens&quot;`
		CompletionTokens int `json:&quot;completion_tokens&quot;`
		TotalTokens      int `json:&quot;total_tokens&quot;`
	} `json:&quot;usage&quot;`
}
</code></pre>
<!--kg-card-end: markdown--><ul><li>Create function ConverseWithGPT function below</li></ul><!--kg-card-begin: markdown--><pre><code>func ConverseWithGPT(prompt string) (TextCompletionResponse, error) {
	httpReq := TextCompletionRequest{
		Model:            &quot;text-davinci-003&quot;,
		Prompt:           prompt,
		Temperature:      0.7,
		MaxTokens:        100,
		TopP:             1.0,
		FrequencyPenalty: 0.0,
		PresencePenalty:  0.0,
	}
	jsonValue, _ := json.Marshal(httpReq)

	bearer := &quot;Bearer &quot; + BearerToken

	req, _ := http.NewRequest(&quot;POST&quot;, ChatGPTHTTPAddress, bytes.NewBuffer(jsonValue))
	req.Header.Set(&quot;Authorization&quot;, bearer)
	req.Header.Add(&quot;Content-Type&quot;, &quot;application/json&quot;)

	client := &amp;http.Client{}
	resp, err := client.Do(req)
	if err != nil {
		return TextCompletionResponse{}, err
	}
	defer resp.Body.Close()

	if resp.StatusCode != 200 {
		return TextCompletionResponse{}, ErrNon200Response
	}

	body, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		return TextCompletionResponse{}, err
	}

	var textCompletionResponse TextCompletionResponse
	if err := json.Unmarshal(body, &amp;textCompletionResponse); err != nil {
		fmt.Println(&quot;Can not unmarshal JSON&quot;)
	}

	return textCompletionResponse, nil
}
</code></pre>
<!--kg-card-end: markdown--><p>To check, the code, checkout this <a href="https://github.com/tirthankarkundu17/chat-gpt-api?ref=localhost">repo</a>.</p><blockquote>Let's see it in action</blockquote><p>Let's now run this locally.</p><p>Run the below command -</p><!--kg-card-begin: markdown--><pre><code>sam build
sam local start-api
</code></pre>
<!--kg-card-end: markdown--><p>Now, we can run this using Postman</p><figure class="kg-card kg-image-card"><img src="https://bitmaskers.in/content/images/2023/10/postman.png" class="kg-image" alt loading="lazy" width="1552" height="921" srcset="https://bitmaskers.in/content/images/size/w600/2023/10/postman.png 600w, https://bitmaskers.in/content/images/size/w1000/2023/10/postman.png 1000w, https://bitmaskers.in/content/images/2023/10/postman.png 1552w" sizes="(min-width: 720px) 720px"></figure><p>All right, Chat GPT suggested some Netflix series to watch. Let me go watch them while you try running this yourself.</p><p>Cheers 🍻</p>
        </div>

            <div class="gh-canvas">

    <section class="author">

        <div class="author-image-placeholder u-placeholder">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
        </div>

        <div class="author-wrapper">
            <h4 class="author-name"><a href="/author/tirthankar/">Tirthankar Kundu</a></h4>
        </div>

    </section>

</div>
    </article>


        

</main>
</div>
    </div>

    <footer class="gh-foot no-menu gh-outer">
        <div class="gh-foot-inner gh-inner">
            <div class="gh-copyright">
                The Bitmaskers © 2023
            </div>
            <div class="gh-powered-by">
                <a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a>
            </div>
        </div>
    </footer>

</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="/assets/built/main.min.js?v=ee37fcaf73"></script>



</body>
</html>